{"version":3,"sources":["webpack:///webpack/bootstrap 23091ee0a9e689871154","webpack:///./src/globals.js","webpack:///./src/guide.js","webpack:///./src/index.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;ACrCO,KAAM,IAAI,aAAV;AAAA;;AAEA,KAAM,uBAAuB,OAAO,YAAP,CAA7B;AAAA;AACA,KAAM,qBAAqB,OAAO,UAAP,CAA3B,C;;;;;;;;;;;;;ACJP;;AAEA,KAAa,KAAb;AAEE,kBAAY,MAAZ,EAAoB,EAApB,EAA0D;AAAA,SAAlC,SAAkC,yDAAtB,+DAAsB;;AAAA;;AACxD,UAAK,MAAL,GAAc,MAAd;AACA,UAAK,SAAL,GAAiB,SAAjB;AACA,UAAK,EAAL,GAAU,EAAV;;;AAGA,UAAK,KAAL,GAAa,KAAK,MAAL,CAAY,QAAZ,CAAqB,SAArB,EAAb;;AAEA,UAAK,IAAL,GAAY,WAAW,KAAK,SAAhB,EAA2B,KAAK,EAAhC,CAAZ;AACA,UAAK,OAAL,GAAe,IAAI,gEAAE,OAAN,CAAc,KAAK,IAAnB,EAAyB,KAAK,KAA9B,CAAf;AACA,UAAK,IAAL;;AAEA,UAAK,WAAL;AACD;;AAfH;AAAA;AAAA,mCAiBgB;;AAEZ,YAAK,OAAL,GAAe,IAAI,gEAAE,YAAN,CAAmB;AAChC,kBAAS,KAAK,IADkB;AAEhC,6BAAoB,KAAK,MAAL,CAAY,kBAFA;AAGhC,6BAAoB,KAAK,MAAL,CAAY,kBAHA;AAIhC,sBAAa,KAAK,WAAL,CAAiB,IAAjB,CAAsB,IAAtB,CAJmB;AAKhC,yBAAgB,KAAK,cAAL,CAAoB,IAApB,CAAyB,IAAzB,CALgB;AAMhC,0BAAiB,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB;AANe,QAAnB,CAAf;;;AAUA,YAAK,MAAL,CAAY,UAAZ,CAAuB,MAAvB,EAA+B,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,CAA/B;AACA,YAAK,MAAL,CAAY,UAAZ,CAAuB,WAAvB,EAAoC,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,CAApC;AACA,YAAK,MAAL,CAAY,UAAZ,CAAuB,QAAvB,EAAiC,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,CAAjC;AACA,YAAK,MAAL,CAAY,UAAZ,CAAuB,QAAvB,EAAiC,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,CAAjC;AACD;AAjCH;AAAA;AAAA,iCAmCc,KAnCd,EAmCqB;AACjB,WAAM,QAAQ,KAAK,MAAL,CAAY,QAAZ,CAAqB,qBAArB,CAA2C,MAAM,KAAjD,EAAwD,IAAxD,CAAd;;AAEA,eAAQ,KAAK,SAAb;AACE,cAAK,+DAAL;AACE,gBAAK,KAAL,CAAW,CAAX,IAAgB,MAAM,CAAtB;AACA;AACF,cAAK,+DAAL;AACE,gBAAK,KAAL,CAAW,CAAX,IAAgB,MAAM,CAAtB;AACA;AANJ;;AASA,YAAK,IAAL,CAAU,SAAV,CAAoB,GAApB,CAAwB,eAAxB;AACA,YAAK,IAAL;AACD;AAjDH;AAAA;AAAA,sCAmDmB;AACf,YAAK,IAAL,CAAU,SAAV,CAAoB,MAApB,CAA2B,eAA3B;AACD;AArDH;AAAA;AAAA,4BAuDS;AACL,WAAI,KAAK,KAAT,EAAgB;AACd,cAAK,OAAL,CAAa,MAAb,CAAoB,KAAK,KAAzB;AACA,cAAK,OAAL,CAAa,QAAb,CAAsB,KAAK,MAAL,CAAY,MAAZ,CAAmB,SAAzC,EAAoD,KAAK,MAAL,CAAY,QAAhE;AACD;;AAED,cAAO,IAAP;AACD;AA9DH;AAAA;AAAA,8BAgEW;AACP,YAAK,OAAL,CAAa,OAAb;AACA,YAAK,KAAL,GAAa,IAAb;;AAEA,cAAO,IAAP;AACD;AArEH;;AAAA;AAAA;AAAA;;AAwEA,UAAS,UAAT,CAAoB,SAApB,EAA+B,EAA/B,EAAmC;AACjC,OAAM,OAAO,SAAS,aAAT,CAAuB,KAAvB,CAAb;;AAEA,QAAK,EAAL,iBAAsB,EAAtB;AACA,QAAK,SAAL,CAAe,GAAf,CAAmB,UAAnB;;AAEA,WAAQ,SAAR;AACE,UAAK,+DAAL;AACE,YAAK,SAAL,CAAe,GAAf,CAAmB,qBAAnB;AACA;AACF,UAAK,+DAAL;AACE,YAAK,SAAL,CAAe,GAAf,CAAmB,mBAAnB;AACA;AACF;AACE,aAAM,IAAI,KAAJ,CAAU,yBAAV,CAAN;AARJ;;AAWA,UAAO,IAAP;AACD,E;;;;;;;;;AC5FD;AACA;;AAEA,KAAI,CAAC,gEAAE,OAAH,IAAc,gEAAE,OAAF,CAAU,KAAV,GAAkB,CAApC,EAAuC;AACrC,SAAM,IAAI,KAAJ,CACJ,4EADI,CAAN;AAGD;;AAED,iEAAE,MAAF,CAAS,SAAT,CAAmB,MAAnB,GAA4B,UAAS,OAAT,EAAkB;AAC5C,OAAI,CAAC,KAAK,cAAN,IAAwB,OAA5B,EAAqC;AACnC,eAAU,WAAW,EAArB;AACA,aAAQ,MAAR,GAAiB,IAAjB;AACA,UAAK,cAAL,GAAsB,IAAI,gEAAE,MAAN,CAAa,OAAb,CAAtB;AACD;;AAED,UAAO,KAAK,cAAZ;AACD,EARD;;AAUA,iEAAE,MAAF,GAAW,UAAS,OAAT,EAAkB;AAAA;;AAC3B,mEAAE,MAAF,CAAS,IAAT,EAAe,IAAf,EAAqB;;AAEnB,aAAQ,IAFW;AAGnB,aAAQ,EAHW;AAInB,iBAAY,CAJO;;;AAOnB,4BAAuB,IAPJ;AAQnB,0BAAqB,IARF;AASnB,gBAAW,IATQ;AAUnB,oBAAe,KAVI;AAWnB,gBAAW;AACT,wBAAiB;AACf,eAAM,iBADS;AAEf,gBAAO,uBAFQ;AAGf,gBAAO,kBAHQ;AAIf,eAAM;AAJS,QADR;AAOT,sBAAe;AACb,eAAM,iBADO;AAEb,gBAAO,uBAFM;AAGb,gBAAO,kBAHM;AAIb,eAAM;AAJO;AAPN;AAXQ,IAArB,EAyBG,OAzBH;;AA2BA,mEAAE,MAAF,CAAS,IAAT,EAAe,KAAK,SAApB,EAA+B,KAAK,MAAL,CAAY,SAA3C;;AAEA,OAAM,SAAS,KAAK,SAAL,IAAkB,KAAK,MAAL,CAAY,SAA9B,IAA2C,EAA1D;AACA,OAAM,WAAW,KAAK,MAAL,CAAY,OAAZ,IAAuB,KAAK,MAAL,CAAY,OAAZ,CAAoB,OAA5D;AACA,OAAM,YAAY,WAAW,KAAK,MAAL,CAAY,OAAZ,CAAoB,OAApB,CAA4B,CAA5B,CAAX,GAA4C,IAA9D;AACA,OAAM,UAAU,YAAY,UAAU,OAAtB,GAAgC,IAAhD;AACA,OAAM,SAAS,YAAY,UAAU,MAAtB,GAA+B,IAA9C;;AAEA,QAAK,qBAAL,GAA6B,IAAI,gEAAE,MAAN,CAAa;AACxC,cAAS,KAAK,qBAAL,GAA6B,gEAAE,UAAF,CAAa,KAAK,qBAAlB,CAA7B,GAAwE,IADzC;AAExC,yBAAoB,KAAK,MAAL,CAAY,kBAFQ;AAGxC,yBAAoB,KAAK,MAAL,CAAY,kBAHQ;AAIxC,cAAS,gEAAE,SAAF,CAAY,0BAAZ,KAA2C,kBAJZ;AAKxC,cAAS,SAAS,KAAK,SAAL,CAAe,eAAf,CAA+B,IALT;AAMxC,eAAU,SAAS,KAAK,SAAL,CAAe,eAAf,CAA+B,KANV;AAOxC,eAAU,SAAS,KAAK,SAAL,CAAe,eAAf,CAA+B,KAPV;AAQxC,cAAS,SAAS,KAAK,SAAL,CAAe,eAAf,CAA+B,IART;AASxC,gBAAW,KAAK,qBAAL,CAA2B,IAA3B,CAAgC,IAAhC,CAT6B;AAUxC,qBAVwC;AAWxC;AAXwC,IAAb,CAA7B;;AAcA,QAAK,mBAAL,GAA2B,IAAI,gEAAE,MAAN,CAAa;AACtC,cAAS,KAAK,mBAAL,GAA2B,gEAAE,UAAF,CAAa,KAAK,mBAAlB,CAA3B,GAAoE,IADvC;AAEtC,yBAAoB,KAAK,MAAL,CAAY,kBAFM;AAGtC,yBAAoB,KAAK,MAAL,CAAY,kBAHM;AAItC,cAAS,gEAAE,SAAF,CAAY,wBAAZ,KAAyC,gBAJZ;AAKtC,cAAS,SAAS,KAAK,SAAL,CAAe,aAAf,CAA6B,IALT;AAMtC,eAAU,SAAS,KAAK,SAAL,CAAe,aAAf,CAA6B,KANV;AAOtC,eAAU,SAAS,KAAK,SAAL,CAAe,aAAf,CAA6B,KAPV;AAQtC,cAAS,SAAS,KAAK,SAAL,CAAe,aAAf,CAA6B,IART;AAStC,gBAAW,KAAK,mBAAL,CAAyB,IAAzB,CAA8B,IAA9B,CAT2B;AAUtC,qBAVsC;AAWtC;AAXsC,IAAb,CAA3B;;AAcA,OAAI,QAAJ,EAAc;AACZ,UAAK,MAAL,CAAY,OAAZ,CAAoB,OAApB,CAA4B,IAA5B,CAAiC,KAAK,qBAAtC;AACA,UAAK,MAAL,CAAY,OAAZ,CAAoB,OAApB,CAA4B,WAA5B,CAAwC,KAAK,qBAAL,CAA2B,OAAnE;AACA,UAAK,MAAL,CAAY,OAAZ,CAAoB,OAApB,CAA4B,IAA5B,CAAiC,KAAK,mBAAtC;AACA,UAAK,MAAL,CAAY,OAAZ,CAAoB,OAApB,CAA4B,WAA5B,CAAwC,KAAK,mBAAL,CAAyB,OAAjE;AACD;;;AAGD,OAAI,KAAK,aAAT,EAAwB;AACtB,UAAK,MAAL,CAAY,UAAZ,CAAuB,OAAvB,EAAgC,YAAM;AACpC,aAAK,MAAL,CAAY,OAAZ,CAAoB;AAAA,gBAAS,MAAM,MAAN,EAAT;AAAA,QAApB;AACA,aAAK,MAAL,GAAc,EAAd;AACD,MAHD;AAID;AACF,EA9ED;;AAgFA,iEAAE,MAAF,CAAS,gEAAE,MAAF,CAAS,SAAlB,EAA6B;AAC3B,wBAD2B,mCACH;AACtB,SAAM,KAAK,KAAK,UAAL,EAAX;AACA,UAAK,MAAL,CAAY,IAAZ,CAAiB,IAAI,6DAAJ,CAAU,KAAK,MAAf,EAAuB,EAAvB,EAA2B,+DAA3B,CAAjB;AACD,IAJ0B;AAM3B,sBAN2B,iCAML;AACpB,SAAM,KAAK,KAAK,UAAL,EAAX;AACA,UAAK,MAAL,CAAY,IAAZ,CAAiB,IAAI,6DAAJ,CAAU,KAAK,MAAf,EAAuB,EAAvB,EAA2B,+DAA3B,CAAjB;AACD;AAT0B,EAA7B,E","file":"openseadragon-guides.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 23091ee0a9e689871154\n **/","// Not importing Openseadragon into the bundle, use global var instead\nexport const $ = OpenSeadragon;\n\nexport const DIRECTION_HORIZONTAL = Symbol('horizontal');\nexport const DIRECTION_VERTICAL = Symbol('vertical');\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/globals.js\n **/","import {$, DIRECTION_HORIZONTAL, DIRECTION_VERTICAL} from './globals';\n\nexport class Guide {\n\n  constructor(viewer, id, direction = DIRECTION_HORIZONTAL) {\n    this.viewer = viewer;\n    this.direction = direction;\n    this.id = id;\n\n    // Center guide by default\n    this.point = this.viewer.viewport.getCenter();\n\n    this.elem = createElem(this.direction, this.id);\n    this.overlay = new $.Overlay(this.elem, this.point);\n    this.draw();\n\n    this.addHandlers();\n  }\n\n  addHandlers() {\n    // Listen for mouse events on the guide\n    this.tracker = new $.MouseTracker({\n      element: this.elem,\n      clickTimeThreshold: this.viewer.clickTimeThreshold,\n      clickDistThreshold: this.viewer.clickDistThreshold,\n      dragHandler: this.dragHandler.bind(this),\n      dragEndHandler: this.dragEndHandler.bind(this),\n      dblClickHandler: this.remove.bind(this)\n    });\n\n    // Redraw guide when viewer changes\n    this.viewer.addHandler('open', this.draw.bind(this));\n    this.viewer.addHandler('animation', this.draw.bind(this));\n    this.viewer.addHandler('resize', this.draw.bind(this));\n    this.viewer.addHandler('rotate', this.draw.bind(this));\n  }\n\n  dragHandler(event) {\n    const delta = this.viewer.viewport.deltaPointsFromPixels(event.delta, true);\n\n    switch (this.direction) {\n      case DIRECTION_HORIZONTAL:\n        this.point.y += delta.y;\n        break;\n      case DIRECTION_VERTICAL:\n        this.point.x += delta.x;\n        break;\n    }\n\n    this.elem.classList.add('od-guide-drag');\n    this.draw();\n  }\n\n  dragEndHandler() {\n    this.elem.classList.remove('od-guide-drag');\n  }\n\n  draw() {\n    if (this.point) {\n      this.overlay.update(this.point);\n      this.overlay.drawHTML(this.viewer.drawer.container, this.viewer.viewport);\n    }\n\n    return this;\n  }\n\n  remove() {\n    this.overlay.destroy();\n    this.point = null;\n\n    return this;\n  }\n}\n\nfunction createElem(direction, id) {\n  const elem = document.createElement('div');\n\n  elem.id = `od-guide-${id}`;\n  elem.classList.add('od-guide');\n\n  switch (direction) {\n    case DIRECTION_HORIZONTAL:\n      elem.classList.add('od-guide-horizontal');\n      break;\n    case DIRECTION_VERTICAL:\n      elem.classList.add('od-guide-vertical');\n      break;\n    default:\n      throw new Error('Invalid guide direction');\n  }\n\n  return elem;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/guide.js\n **/","import {Guide} from './guide';\nimport {$, DIRECTION_HORIZONTAL, DIRECTION_VERTICAL} from './globals';\n\nif (!$.version || $.version.major < 2) {\n  throw new Error(\n    'This version of OpenSeadragon Guides requires OpenSeadragon version 2.0.0+'\n  );\n}\n\n$.Viewer.prototype.guides = function(options) {\n  if (!this.guidesInstance || options) {\n    options = options || {};\n    options.viewer = this;\n    this.guidesInstance = new $.Guides(options);\n  }\n\n  return this.guidesInstance;\n};\n\n$.Guides = function(options) {\n  $.extend(true, this, {\n    // internal state properties\n    viewer: null,\n    guides: [],\n    guideIndex: 0,\n\n    // options\n    horizontalGuideButton: null,\n    verticalGuideButton: null,\n    prefixUrl: null,\n    removeOnClose: false,\n    navImages: {\n      guideHorizontal: {\n        REST: 'button_rest.png',\n        GROUP: 'button_grouphover.png',\n        HOVER: 'button_hover.png',\n        DOWN: 'button_pressed.png'\n      },\n      guideVertical: {\n        REST: 'button_rest.png',\n        GROUP: 'button_grouphover.png',\n        HOVER: 'button_hover.png',\n        DOWN: 'button_pressed.png'\n      }\n    }\n  }, options);\n\n  $.extend(true, this.navImages, this.viewer.navImages);\n\n  const prefix = this.prefixUrl || this.viewer.prefixUrl || '';\n  const useGroup = this.viewer.buttons && this.viewer.buttons.buttons;\n  const anyButton = useGroup ? this.viewer.buttons.buttons[0] : null;\n  const onFocus = anyButton ? anyButton.onFocus : null;\n  const onBlur = anyButton ? anyButton.onBlur : null;\n\n  this.horizontalGuideButton = new $.Button({\n    element: this.horizontalGuideButton ? $.getElement(this.horizontalGuideButton) : null,\n    clickTimeThreshold: this.viewer.clickTimeThreshold,\n    clickDistThreshold: this.viewer.clickDistThreshold,\n    tooltip: $.getString('Tooltips.HorizontalGuide') || 'Horizontal guide',\n    srcRest: prefix + this.navImages.guideHorizontal.REST,\n    srcGroup: prefix + this.navImages.guideHorizontal.GROUP,\n    srcHover: prefix + this.navImages.guideHorizontal.HOVER,\n    srcDown: prefix + this.navImages.guideHorizontal.DOWN,\n    onRelease: this.createHorizontalGuide.bind(this),\n    onFocus,\n    onBlur\n  });\n\n  this.verticalGuideButton = new $.Button({\n    element: this.verticalGuideButton ? $.getElement(this.verticalGuideButton) : null,\n    clickTimeThreshold: this.viewer.clickTimeThreshold,\n    clickDistThreshold: this.viewer.clickDistThreshold,\n    tooltip: $.getString('Tooltips.VerticalGuide') || 'vertical guide',\n    srcRest: prefix + this.navImages.guideVertical.REST,\n    srcGroup: prefix + this.navImages.guideVertical.GROUP,\n    srcHover: prefix + this.navImages.guideVertical.HOVER,\n    srcDown: prefix + this.navImages.guideVertical.DOWN,\n    onRelease: this.createVerticalGuide.bind(this),\n    onFocus,\n    onBlur\n  });\n\n  if (useGroup) {\n    this.viewer.buttons.buttons.push(this.horizontalGuideButton);\n    this.viewer.buttons.element.appendChild(this.horizontalGuideButton.element);\n    this.viewer.buttons.buttons.push(this.verticalGuideButton);\n    this.viewer.buttons.element.appendChild(this.verticalGuideButton.element);\n  }\n\n  // Remove guides when viewer closes\n  if (this.removeOnClose) {\n    this.viewer.addHandler('close', () => {\n      this.guides.forEach(guide => guide.remove());\n      this.guides = [];\n    });\n  }\n};\n\n$.extend($.Guides.prototype, {\n  createHorizontalGuide() {\n    const id = this.guideIndex++;\n    this.guides.push(new Guide(this.viewer, id, DIRECTION_HORIZONTAL));\n  },\n\n  createVerticalGuide() {\n    const id = this.guideIndex++;\n    this.guides.push(new Guide(this.viewer, id, DIRECTION_VERTICAL));\n  }\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/"],"sourceRoot":""}